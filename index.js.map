{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// Регистрируем плагины\ngsap.registerPlugin(ScrollTrigger);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n\n    // 2. МОБИЛЬНОЕ МЕНЮ (forEach для ссылок)\n    const burger = document.getElementById('burger-menu');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n    const toggleMenu = () => {\n        const isOpen = mobileMenu.classList.toggle('active');\n        burger.classList.toggle('active');\n        document.body.style.overflow = isOpen ? 'hidden' : '';\n        \n        const b = burger.children;\n        gsap.to(b[0], {y: isOpen ? 8 : 0, rotate: isOpen ? 45 : 0, duration: 0.3});\n        gsap.to(b[1], {opacity: isOpen ? 0 : 1, duration: 0.2});\n        gsap.to(b[2], {y: isOpen ? -8 : 0, rotate: isOpen ? -45 : 0, duration: 0.3});\n    };\n\n    if (burger) burger.addEventListener('click', toggleMenu);\n    \n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if(mobileMenu.classList.contains('active')) toggleMenu();\n        });\n    });\n\n    // 3. АНИМАЦИЯ HERO (с фиксом градиента)\n    if (document.querySelector('#hero-title')) {\n        new SplitType('#hero-title', { types: 'words, chars', tagName: 'span' });\n        const chars = document.querySelectorAll('.hero__title .char');\n        const gradientSpan = document.querySelector('.hero__title span');\n\n        const heroTl = gsap.timeline({delay: 0.5});\n        heroTl.from(chars, { opacity: 0, y: 30, rotateX: -90, stagger: 0.02, duration: 0.8, ease: \"back.out(1.7)\" })\n              .from(gradientSpan, { opacity: 0, y: 20, duration: 0.8, clearProps: \"all\" }, \"-=0.4\")\n              .from('.hero__tagline', { opacity: 0, x: -20 }, 0)\n              .from('.hero__description, .hero__btns, .hero__stats', { opacity: 0, y: 20, stagger: 0.1 }, \"-=0.2\");\n    }\n\n    // 4. СКРОЛЛ-АНИМАЦИИ (Групповой перебор через forEach)\n    const scrollAnims = [\n        { selector: '.platform__card', trigger: '.platform__grid', start: '80%' },\n        { selector: '.benefit-card', trigger: '.benefits__grid', start: '75%' },\n        { selector: '.blog-card', trigger: '.blog__grid', start: '80%' }\n    ];\n\n    scrollAnims.forEach(anim => {\n        gsap.from(anim.selector, {\n            scrollTrigger: { trigger: anim.trigger, start: `top ${anim.start}` },\n            opacity: 0, y: 40, stagger: 0.15, duration: 0.8, ease: \"power2.out\"\n        });\n    });\n\n    // 5. ИННОВАЦИИ: Смена сцен (forEach)\n    const innovationItems = document.querySelectorAll('.innovation-item');\n    const scenes = document.querySelectorAll('.scene');\n\n    innovationItems.forEach(item => {\n        item.addEventListener('mouseenter', () => {\n            const sceneId = item.getAttribute('data-scene');\n            \n            innovationItems.forEach(i => i.classList.remove('active'));\n            item.classList.add('active');\n            \n            scenes.forEach(s => {\n                s.classList.remove('active');\n                if(s.id === `scene-${sceneId}`) s.classList.add('active');\n            });\n            \n            gsap.fromTo(`#scene-${sceneId}`, {scale: 0.95, opacity: 0}, {scale: 1, opacity: 1, duration: 0.4});\n        });\n    });\n\n    // 6. ФОРМА КОНТАКТОВ: Валидация и Капча\n    const form = document.getElementById('main-form');\n    const phoneInput = document.getElementById('phone');\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    const successMsg = document.getElementById('form-success');\n    const errorMsg = document.getElementById('form-error');\n\n    // Генерация капчи\n    let num1 = Math.floor(Math.random() * 10) + 1;\n    let num2 = Math.floor(Math.random() * 5) + 1;\n    let correctSum = num1 + num2;\n    if(captchaLabel) captchaLabel.textContent = `Решите пример: ${num1} + ${num2} = ?`;\n\n    // Валидация телефона (только цифры)\n    if(phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n    }\n\n    // Обработка отправки\n    if(form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            successMsg.style.display = 'none';\n            errorMsg.style.display = 'none';\n\n            if(parseInt(captchaInput.value) !== correctSum) {\n                errorMsg.style.display = 'flex';\n                return;\n            }\n\n            const btn = form.querySelector('button');\n            btn.disabled = true;\n            btn.textContent = \"Отправка...\";\n\n            setTimeout(() => {\n                btn.style.display = 'none';\n                successMsg.style.display = 'flex';\n                form.reset();\n            }, 1500);\n        });\n    }\n});"],"names":["burger","mobileMenu","mobileLinks","toggleMenu","isOpen","b","link","chars","gradientSpan","anim","innovationItems","scenes","item","sceneId","i","form","phoneInput","captchaLabel","captchaInput","successMsg","errorMsg","num1","num2","correctSum","btn"],"mappings":"0uBACA,KAAK,eAAe,aAAa,EAEjC,SAAS,iBAAiB,mBAAoB,IAAM,CAE5C,OAAO,OAAW,KAAa,OAAO,YAAa,EAGvD,MAAMA,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,iBAAiB,oBAAoB,EAE5DC,EAAa,IAAM,CACrB,MAAMC,EAASH,EAAW,UAAU,OAAO,QAAQ,EACnDD,EAAO,UAAU,OAAO,QAAQ,EAChC,SAAS,KAAK,MAAM,SAAWI,EAAS,SAAW,GAEnD,MAAMC,EAAIL,EAAO,SACjB,KAAK,GAAGK,EAAE,CAAC,EAAG,CAAC,EAAGD,EAAS,EAAI,EAAG,OAAQA,EAAS,GAAK,EAAG,SAAU,EAAG,CAAC,EACzE,KAAK,GAAGC,EAAE,CAAC,EAAG,CAAC,QAASD,EAAS,EAAI,EAAG,SAAU,EAAG,CAAC,EACtD,KAAK,GAAGC,EAAE,CAAC,EAAG,CAAC,EAAGD,EAAS,GAAK,EAAG,OAAQA,EAAS,IAAM,EAAG,SAAU,EAAG,CAAC,CAC9E,EAWD,GATIJ,GAAQA,EAAO,iBAAiB,QAASG,CAAU,EAEvDD,EAAY,QAAQI,GAAQ,CACxBA,EAAK,iBAAiB,QAAS,IAAM,CAC9BL,EAAW,UAAU,SAAS,QAAQ,GAAGE,EAAY,CACpE,CAAS,CACT,CAAK,EAGG,SAAS,cAAc,aAAa,EAAG,CACvC,IAAI,UAAU,cAAe,CAAE,MAAO,eAAgB,QAAS,OAAQ,EACvE,MAAMI,EAAQ,SAAS,iBAAiB,oBAAoB,EACtDC,EAAe,SAAS,cAAc,mBAAmB,EAEhD,KAAK,SAAS,CAAC,MAAO,EAAG,CAAC,EAClC,KAAKD,EAAO,CAAE,QAAS,EAAG,EAAG,GAAI,QAAS,IAAK,QAAS,IAAM,SAAU,GAAK,KAAM,eAAiB,CAAA,EACpG,KAAKC,EAAc,CAAE,QAAS,EAAG,EAAG,GAAI,SAAU,GAAK,WAAY,KAAO,EAAE,OAAO,EACnF,KAAK,iBAAkB,CAAE,QAAS,EAAG,EAAG,GAAG,EAAI,CAAC,EAChD,KAAK,gDAAiD,CAAE,QAAS,EAAG,EAAG,GAAI,QAAS,EAAK,EAAE,OAAO,CACjH,CAGwB,CAChB,CAAE,SAAU,kBAAmB,QAAS,kBAAmB,MAAO,KAAO,EACzE,CAAE,SAAU,gBAAiB,QAAS,kBAAmB,MAAO,KAAO,EACvE,CAAE,SAAU,aAAc,QAAS,cAAe,MAAO,KAAK,CACjE,EAEW,QAAQC,GAAQ,CACxB,KAAK,KAAKA,EAAK,SAAU,CACrB,cAAe,CAAE,QAASA,EAAK,QAAS,MAAO,OAAOA,EAAK,KAAK,EAAI,EACpE,QAAS,EAAG,EAAG,GAAI,QAAS,IAAM,SAAU,GAAK,KAAM,YACnE,CAAS,CACT,CAAK,EAGD,MAAMC,EAAkB,SAAS,iBAAiB,kBAAkB,EAC9DC,EAAS,SAAS,iBAAiB,QAAQ,EAEjDD,EAAgB,QAAQE,GAAQ,CAC5BA,EAAK,iBAAiB,aAAc,IAAM,CACtC,MAAMC,EAAUD,EAAK,aAAa,YAAY,EAE9CF,EAAgB,QAAQI,GAAKA,EAAE,UAAU,OAAO,QAAQ,CAAC,EACzDF,EAAK,UAAU,IAAI,QAAQ,EAE3BD,EAAO,QAAQ,GAAK,CAChB,EAAE,UAAU,OAAO,QAAQ,EACxB,EAAE,KAAO,SAASE,CAAO,IAAI,EAAE,UAAU,IAAI,QAAQ,CACxE,CAAa,EAED,KAAK,OAAO,UAAUA,CAAO,GAAI,CAAC,MAAO,IAAM,QAAS,CAAC,EAAG,CAAC,MAAO,EAAG,QAAS,EAAG,SAAU,EAAG,CAAC,CAC7G,CAAS,CACT,CAAK,EAGD,MAAME,EAAO,SAAS,eAAe,WAAW,EAC1CC,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAa,SAAS,eAAe,cAAc,EACnDC,EAAW,SAAS,eAAe,YAAY,EAGrD,IAAIC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACxCC,EAAO,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EACvCC,EAAaF,EAAOC,EACrBL,IAAcA,EAAa,YAAc,kBAAkBI,CAAI,MAAMC,CAAI,QAGzEN,GACCA,EAAW,iBAAiB,QAAU,GAAM,CACxC,EAAE,OAAO,MAAQ,EAAE,OAAO,MAAM,QAAQ,WAAY,EAAE,CAClE,CAAS,EAIFD,GACCA,EAAK,iBAAiB,SAAW,GAAM,CAKnC,GAJA,EAAE,eAAgB,EAClBI,EAAW,MAAM,QAAU,OAC3BC,EAAS,MAAM,QAAU,OAEtB,SAASF,EAAa,KAAK,IAAMK,EAAY,CAC5CH,EAAS,MAAM,QAAU,OACzB,MAChB,CAEY,MAAMI,EAAMT,EAAK,cAAc,QAAQ,EACvCS,EAAI,SAAW,GACfA,EAAI,YAAc,cAElB,WAAW,IAAM,CACbA,EAAI,MAAM,QAAU,OACpBL,EAAW,MAAM,QAAU,OAC3BJ,EAAK,MAAO,CACf,EAAE,IAAI,CACnB,CAAS,CAET,CAAC"}